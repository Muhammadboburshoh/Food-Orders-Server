create database orders_food;

create extension pgcrypto;

create table users(
  user_id int generated by default as identity primary key,
  username varchar(64) not null,
  password varchar(64) not null,
  firstname varchar(64) not null,
  lastname varchar(64) not null,
  phonenumber varchar(20) not null
)

create table categories (
  category_id int generated by default as identity primary key,
  category_name varchar(32) not null
);

create table products (
  product_id int generated by default as identity primary key,
  product_name varchar(64) not null,
  category_id int not null references categories(category_id),
  product_price decimal(15, 2) not null,
  product_image varchar(40),
  product_description text,
  product_available boolean default true
);


create table orders (
  order_id int generated by default as identity primary key,
  order_table_number smallint not null references tables(table_id),
  product_id int not null references products(product_id),
  order_time timestamptz default current_timestamp,
  order_product_count smallint default 1
);


